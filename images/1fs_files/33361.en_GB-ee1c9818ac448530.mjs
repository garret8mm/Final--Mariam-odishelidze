"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[33361],{24789:e=>{var l,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinRecipe_pin",selections:[{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"474x")'},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"diets",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayCookTime",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,concreteType:"ParsedIngredientMetadata",kind:"LinkedField",name:"ingredients",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"amt",storageKey:null},l],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ServingsSummary",kind:"LinkedField",name:"servingsSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"summary",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="0399d1e5d3138c8784dabc45eac4492b",e.exports=n},237693:(e,l,n)=>{n.d(l,{Z:()=>d});var i=n(667294),t=n(883119),r=n(898781),a=n(773285),s=n(780280),o=n(785893);function d({collapsed:e,displayViewState:l,forceTappableHeader:n,headerPaddingRight:d,headerPreview:u,heading:c,onClick:h,showArrow:m}){let g=(0,r.ZP)(),{checkExperiment:p}=(0,a.F)(),{isAuthenticated:_}=(0,s.B)(),x=_?p("auth_closeup_redesign").anyEnabled:p("unauth_closeup_redesign").anyEnabled;return(0,o.jsx)(i.Fragment,{children:n||null!==l?(0,o.jsx)(t.iP,{onTap:h,children:(0,o.jsxs)(t.kC,{alignItems:"center",dataTestId:"collapsible-header",direction:"row",flex:"grow",justifyContent:"between",children:[(0,o.jsx)(t.X6,{align:"start",size:x?"300":"400",accessibilityLevel:2,id:"comments-heading",children:c}),(0,o.jsxs)(t.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{paddingRight:d}},direction:"row",display:"flex",children:[e&&u,m&&(0,o.jsx)(t.xu,{"data-test-id":"collapse-button",display:"flex",marginStart:u?4:0,width:48,alignItems:"center",justifyContent:"center",children:(0,o.jsx)(t.JO,{accessibilityLabel:g.bt("Expand icon", "Expand icon", "accordion.actionButton", undefined, true),color:"default",icon:e?"arrow-down":"arrow-up"})})]})]})}):(0,o.jsx)(t.X6,{align:"start",size:"400",accessibilityLevel:2,id:"comments-heading",children:c})})}},485710:(e,l,n)=>{n.d(l,{Z:()=>u});var i=n(667294),t=n(883119),r=n(237693),a=n(773285),s=n(780280),o=n(50286),d=n(785893);function u({children:e,displayViewState:l,forceTappableHeader:n,headerPaddingRight:u,headerPreview:c,heading:h}){let m=(0,o.ml)(),{checkExperiment:g}=(0,a.F)(),{isAuthenticated:p,isBot:_}=(0,s.B)(),x=m&&g(p?"closeup_auth_mweb_collapsable_modules":"closeup_unauth_mweb_collapsable_modules").group||"",y=["no_collapse_by_default","collapse_by_default"].includes(x),f="collapse_by_default"===x,[b,j]=(0,i.useState)(y&&!_&&f||[1,2].includes(l));return(0,d.jsxs)(t.kC,{direction:"column",dataTestId:"collapsible-layout",gap:y?4:0,children:[(0,d.jsx)(r.Z,{collapsed:b,displayViewState:l,forceTappableHeader:n,headerPaddingRight:u,headerPreview:c,heading:h,onClick:()=>{j(!b)},showArrow:!0}),!b&&(0,d.jsx)(t.xu,{children:e})]})}},288889:(e,l,n)=>{n.d(l,{n:()=>i});let i="300"},319530:(e,l,n)=>{n.d(l,{Z:()=>d});var i=n(667294),t=n(883119),r=n(288889),a=n(643010),s=n(898781),o=n(785893);function d({children:e,maxLines:l=10}){let n=(0,i.useRef)(null),[d,u]=(0,i.useState)({isFirstLoad:!0,isTruncated:!1}),c=(0,s.ZP)(),h=(0,a.vs)(),m=h?"#111":"#fff",{isFirstLoad:g,isTruncated:p}=d;return(0,i.useEffect)(()=>{var e;g&&n.current&&((e=n.current).offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth)&&u({isFirstLoad:!1,isTruncated:!0})},[g,p]),(0,o.jsxs)(t.xu,{position:"relative","data-test-id":"truncated-text",children:[(0,o.jsx)(t.xv,{ref:n,lineClamp:g||p?l:0,inline:!0,children:e}),p&&(0,o.jsx)(t.xu,{position:"absolute",display:"block",width:"100%",bottom:!0,children:(0,o.jsxs)(t.kC,{flex:"grow",children:[(0,o.jsx)(t.xu,{display:"inlineBlock",width:"120px",height:"14px"}),(0,o.jsx)(t.xu,{"data-test-id":"more-button",display:"inlineBlock",dangerouslySetInlineStyle:{__style:{paddingLeft:15,background:`linear-gradient(90deg, transparent 0%, ${m} 15%)`}},children:(0,o.jsx)(t.iP,{fullWidth:!1,onTap:()=>u({...d,isTruncated:!1}),children:(0,o.jsx)(t.xv,{inline:!0,size:r.n,weight:"bold",children:c.bt(" … more", " … more", "closeup.TruncatedTextContent.moreLabel", undefined, true)})})}),(0,o.jsx)(t.xu,{display:"inlineBlock",flex:"grow",dangerouslySetInlineStyle:{__style:{background:m}}})]})})]})}},807592:(e,l,n)=>{n.d(l,{Z:()=>i});function i({maxPrice:e,minPrice:l,price:n}){return e&&l?`${l}-${e}`:n}},283698:(e,l,n)=>{n.d(l,{Z:()=>i});function i(e){return("undefined"==typeof window||!Object.prototype.hasOwnProperty.call(window,"requestAnimationFrame"))&&e&&e(),window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{e&&e()})})}},642345:(e,l,n)=>{n.d(l,{DW:()=>r,I:()=>t,oo:()=>i,zI:()=>a});let i=e=>{let l=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return l&&[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]},t=.18,r=(e,l,n)=>.2126*(e/255)**2.2+.7151*(l/255)**2.2+.0721*(n/255)**2.2,a=e=>{let l=e.replace("#",""),n=parseInt(l.substr(0,2),16),i=parseInt(l.substr(2,2),16),t=parseInt(l.substr(4,2),16);return(299*n+587*i+114*t)/1e3<155}},934494:(e,l,n)=>{n.d(l,{Z:()=>a});var i=n(667294),t=n(995228),r=n(785893);function a({useGraphQLAdapter:e,useLegacyAdapter:l}){let n=({children:l,data:n})=>l({enabled:!0,data:e(n)}),a=({children:e,data:n})=>e({enabled:!1,data:l(n)});return function({children:e,input:l}){var s;let o=l.enabled?(0,r.jsx)(n,{data:l.data,children:e}):(0,r.jsx)(a,{data:l.data,children:e}),d=null!==(s=l.suspense)&&void 0!==s&&s.dangerouslyServerRender?i.Suspense:t.Z;return l.suspense?(0,r.jsx)(d,{fallback:l.suspense.fallback,children:o}):o}}},248975:(e,l,n)=>{n.d(l,{Z:()=>i});function i({embedSrc:e,embedType:l,imagesUrls:n,preferredResolution:i,excludeOriginals:t}){if(!e&&!l&&!n)return"";if("gif"===l)return e||"";if(!n)return"";if(i){let e="474x"===i&&n["474x"]||"236x"===i&&n["236x"]||n["736x"];if(e)return e}let r=Object.keys(n).reduce((e,l)=>{try{let i=l.split("x")[0];if(Number.isNaN(Number(i)))return{...e,[l]:n[l]};return{...e,[i]:n[l]}}catch(l){return e}},{}),a=Object.keys(r);t&&"orig"===a[a.length-1]&&a.pop();let s=a.pop();return r[s]||""}},561195:(e,l,n)=>{n.d(l,{A:()=>a,Z:()=>s});var i=n(667294),t=n(883119),r=n(785893);let a=({fill:e,width:l})=>{let n="half"===e?(0,r.jsxs)(i.Fragment,{children:[(0,r.jsx)(t.xu,{position:"absolute",children:(0,r.jsx)(t.JO,{accessibilityLabel:"",color:"default",icon:"star-half",size:12})}),(0,r.jsx)(t.JO,{accessibilityLabel:"",color:"subtle",icon:"star",size:12})]}):(0,r.jsx)(t.JO,{accessibilityLabel:"",color:"full"===e?"default":"subtle",icon:"star",size:12});return(0,r.jsx)(t.xu,{dangerouslySetInlineStyle:{__style:{marginRight:"3px"}},display:"inlineBlock","data-test-id":`rating-star-${e}`,children:n})};function s({max_rating:e,rating:l,width:n}){var i;let s=[],o=parseFloat(e)||5,d=5*(i=(i=parseFloat(l)||0)<=o?i:o)/o;if(Number.isNaN(d))return null;let u=Math.floor(d),c=d-u;return[...Array(u).keys()].forEach(e=>s.push((0,r.jsx)(a,{fill:"full",width:n},e))),c>=.75?s.push((0,r.jsx)(a,{fill:"full",width:n},s.length)):c>=.25&&s.push((0,r.jsx)(a,{fill:"half",width:n},s.length)),[...Array(5-s.length).keys()].forEach(()=>s.push((0,r.jsx)(a,{fill:"empty",width:n},s.length))),(0,r.jsx)(t.xu,{position:"relative",display:"inlineBlock",width:15*o,children:s})}},923297:(e,l,n)=>{function i({m:e=0,h:l=0}){return{m:e,h:l,rm:l>0?0:e,rh:l<=0?l:e>45?l+1:e>15?l+.5:l}}function t(e){return i({m:Math.floor(e%3600/60),h:Math.floor(e/3600)})}n.d(l,{X:()=>i,u:()=>t})},947599:(e,l,n)=>{n.d(l,{Z:()=>t});var i=n(995228);let t=i.Z},862628:(e,l,n)=>{n.d(l,{Z:()=>i});function i(e){return(e||"").trim().replace(/\s+/g," ")}},883561:(e,l,n)=>{n.d(l,{ZP:()=>i});function i(e,l=80,n="…",i=!1){let t;if(!e)return"";if(e.length<=l)return e;if(" "!==e[l-1]&&" "===e[l]||i)t=e.substring(0,l);else{let n=e.lastIndexOf(" ",l);t=e.substring(0,n)}return(t=t.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""))+n}},350948:(e,l,n)=>{n.d(l,{IS:()=>y,Ys:()=>x,ZP:()=>P,j$:()=>j});var i,t=n(667294),r=n(167912),a=n(883119),s=n(485710),o=n(319530),d=n(898781),u=n(349700),c=n(773285),h=n(923297),m=n(780280),g=n(350118),p=n(785893);let _=void 0!==i?i:i=n(24789),x=({m:e,h:l,rm:n,rh:i},t,r=!1)=>e&&(!l||i<=0)?r?(0,u.nk)(t.bt("{{mins}} min", "{{mins}}min", "closeup.makeRecipeTimeText.minutes", undefined, true),{mins:n.toString()}):(0,u.nk)(t.nbt(["{{mins}} minute", "{{mins}} minutes"], n, "number showing the minutes to complete a recipe", true),{mins:n.toString()}):l?r?(0,u.nk)(t.bt("{{hrs}}hr {{mins}}min", "{{hrs}}hr {{mins}}min", "closeup.makeRecipeTimeText.hours", undefined, true),{hrs:l.toString(),mins:e.toString()}):(0,u.nk)(t.nbt(["{{hrs}} hour", "{{hrs}} hours"], i, "number showing the hours to complete a recipe", true),{hrs:i.toString()}):null,y=({m:e,h:l,rm:n,rh:i,i18n:t})=>e&&(!l||i<=0)?(0,u.nk)(t.bt("{{mins}}m", "{{mins}}m", "number showing minutes to complete a recipe", undefined, true),{mins:n.toString()}):l?(0,u.nk)(t.bt("{{hrs}}h {{mins}}m", "{{hrs}}h {{mins}}m", "number showing hours to complete a recipe", undefined, true),{hrs:l.toString(),mins:e.toString()}):null,f=(e,l)=>{let n=e&&e.length>0&&e.join(", "),i=l&&l.summary;return n&&i?`${n} • ${i}`:n||i},b=e=>e?e.reduce((e,l)=>{var n,i;return e+(null!==(n=null===(i=l.ingredients)||void 0===i?void 0:i.length)&&void 0!==n?n:0)},0):0,j=({displayCookTime:e,i18n:l,isShortened:n})=>x((0,h.u)(e),l,n);function k({category:e,ingredients:l,textSize:n="300"}){return(0,p.jsxs)(a.xu,{marginBottom:4,children:[e&&(0,p.jsx)(a.xu,{children:(0,p.jsx)(a.xv,{weight:"bold",size:n,children:e})}),(null!=l?l:[]).map(e=>{var l,i;return(0,p.jsx)(a.xu,{"data-test-id":"recipe-ingredient",itemProp:"recipeIngredient",marginTop:1,children:(0,p.jsxs)(a.xv,{size:n,children:["• ",e.amt||null," ",e.name]})},`${null!==(l=e.name)&&void 0!==l?l:""}-${null!==(i=e.name)&&void 0!==i?i:""}`)})]})}let v=({categorizedIngredients:e,displayCookTime:l,image:n,ingredientCount:i,ingredientsDescription:r,name:u})=>{let h=(0,d.ZP)(),{checkExperiment:g}=(0,c.F)(),{isAuthenticated:_}=(0,m.B)(),x=_?g("auth_closeup_redesign").anyEnabled:g("unauth_closeup_redesign").anyEnabled,y=l?j({displayCookTime:l,i18n:h,isShortened:!0}):null;if(!y&&!i&&!r)return null;let f=h.bt("Ingredients", "Ingredients", "Closeup.PinRecipe.ingredientsLabel", undefined, true);return(0,p.jsxs)(a.xu,{"data-test-id":"pin-recipe-container",direction:"column",display:"flex",marginTop:x?8:12,marginBottom:x?0:4,marginEnd:x?0:6,overflow:"hidden",children:[(0,p.jsx)("meta",{content:u,itemProp:"name"}),n&&(0,p.jsx)("meta",{content:n,itemProp:"image"}),(0,p.jsx)(a.xu,{"data-test-id":"one-pin-layout",children:Array.isArray(e)&&e.length>0&&(0,p.jsx)(s.Z,{heading:f,children:(0,p.jsx)(o.Z,{children:e.map(({category:e,ingredients:l},n)=>{let i=`ingredient-${n}`;return(0,p.jsx)(t.Fragment,{children:(0,p.jsx)(a.xu,{marginBottom:4,children:(0,p.jsx)(k,{category:e,ingredients:l,textSize:"300"})})},i)})})})})]})},w=({graphqlRef:e})=>{let l=(0,r.useFragment)(_,e),{imageSpec_474x:n,richMetadata:i}=l,t=null==i?void 0:i.recipe,a=null==t?void 0:t.categorizedIngredients,s=b(a),o=(null==t?void 0:t.categorizedIngredients)&&f(t.diets,t.servingsSummary);return(0,p.jsx)(v,{categorizedIngredients:a,displayCookTime:null==t?void 0:t.displayCookTime,image:null==n?void 0:n.url,ingredientCount:s,ingredientsDescription:o,name:null==t?void 0:t.name})},S=({pinId:e})=>{var l,n;let i=(0,g.S6)()(e),t=(null==i?void 0:null===(l=i.rich_metadata)||void 0===l?void 0:l.recipe)||{},{display_cook_time:r,name:a,categorized_ingredients:s,diets:o,servings_summary:d}=t,u=b(s),c=s&&f(o,d);return(0,p.jsx)(v,{categorizedIngredients:s,displayCookTime:r,image:(null===(n=((null==i?void 0:i.images)||{})["474x"])||void 0===n?void 0:n.url)||"",ingredientCount:u,ingredientsDescription:c,name:a})};function P({graphqlRef:e,pinId:l}){return e?(0,p.jsx)(w,{graphqlRef:e}):(0,p.jsx)(S,{pinId:l})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/33361.en_GB-ee1c9818ac448530.mjs.map